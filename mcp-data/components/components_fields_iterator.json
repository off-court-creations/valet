{
  "name": "Iterator",
  "category": "fields",
  "slug": "components/fields/iterator",
  "summary": "Iterator component",
  "status": "experimental",
  "aliases": [
    "iterator"
  ],
  "props": [
    {
      "name": "value",
      "type": "number",
      "required": false
    },
    {
      "name": "defaultValue",
      "type": "number",
      "required": false
    },
    {
      "name": "onChange",
      "type": "(value: number) => void",
      "required": false
    },
    {
      "name": "onCommit",
      "type": "(value: number) => void",
      "required": false,
      "description": "Fires when a value is committed (buttons, wheel, keyboard, or blur)."
    },
    {
      "name": "min",
      "type": "number",
      "required": false
    },
    {
      "name": "max",
      "type": "number",
      "required": false
    },
    {
      "name": "step",
      "type": "number",
      "required": false
    },
    {
      "name": "commitOnChange",
      "type": "boolean",
      "required": false,
      "description": "When true, committing also happens while typing for any parsable number.\nDefaults to false to avoid interrupting intermediate states like \"1.\" or \"-\"."
    },
    {
      "name": "roundToStep",
      "type": "boolean",
      "required": false,
      "description": "If true, coerces committed values to align to `step` from the origin (min if provided, else 0)."
    },
    {
      "name": "wheelBehavior",
      "type": "'off' | 'focus' | 'hover'",
      "required": false,
      "description": "Control mouse wheel behavior: off | focus | hover (default: focus)\n - off: disable wheel-based stepping\n - focus: only step when the field has focus\n - hover: step while hovered (prevents page scroll while over the input)",
      "enumValues": [
        "off",
        "focus",
        "hover"
      ]
    },
    {
      "name": "width",
      "type": "number | string",
      "required": false,
      "description": "Control width of the numeric field (token or CSS length)."
    },
    {
      "name": "name",
      "type": "string | undefined",
      "required": false,
      "description": "Field identifier used for FormControl binding and forwarded to the underlying control\nwhen applicable. Components can require `name` locally if they depend on it."
    },
    {
      "name": "label",
      "type": "React.ReactNode",
      "required": false,
      "description": "Visual label rendered by the component or its wrapper. Accepts string or node."
    },
    {
      "name": "helperText",
      "type": "React.ReactNode",
      "required": false,
      "description": "Supplemental hint or validation content typically rendered under the control."
    },
    {
      "name": "error",
      "type": "boolean | undefined",
      "required": false,
      "description": "Marks the field invalid; components may adjust visuals and helper text color."
    },
    {
      "name": "fullWidth",
      "type": "boolean | undefined",
      "required": false,
      "description": "Stretches the field wrapper to occupy the full available width."
    },
    {
      "name": "sx",
      "type": "import(\"/Users/xbenc/occ/valet/src/types\").Sx | undefined",
      "required": false,
      "description": "Inline styles (with CSS var support)."
    },
    {
      "name": "preset",
      "type": "string | string[] | undefined",
      "required": false,
      "description": "One or many style-preset names registered via `definePreset()`"
    }
  ],
  "domPassthrough": {
    "element": "input",
    "omitted": [
      "onChange",
      "style",
      "name"
    ]
  },
  "cssVars": [],
  "cssPresets": [],
  "events": [
    {
      "name": "onChange",
      "payloadType": "number"
    },
    {
      "name": "onCommit",
      "payloadType": "number"
    }
  ],
  "actions": [],
  "slots": [
    {
      "name": "label"
    },
    {
      "name": "helperText"
    }
  ],
  "bestPractices": [
    "Prefer focus-only wheel stepping. Use wheelBehavior='focus' (default) to avoid hijacking page scroll. Opt into wheelBehavior='hover' only when the field lives in a non‑scrolling context, or when hover stepping is strongly desired.",
    "Always provide sensible bounds. Set min and/or max so the control can clamp intent and communicate limits via native input semantics.",
    "Use step thoughtfully and align when needed. For strict increments (e.g., integers or fixed currency steps), set step and enable roundToStep so committed values snap to the nearest valid step from min (or 0).",
    "Separate live vs committed updates. Drive lightweight UI with onChange, and trigger expensive effects (I/O, queries) in onCommit. Enable commitOnChange only when continuous updates are intended.",
    "Respect readOnly vs disabled. Use readOnly to keep the field focusable and readable while blocking changes (buttons, wheel, and keyboard are ignored). Use disabled when the control should be entirely inert.",
    "Keep keyboard affordances intact. Users expect ArrowUp/Down to step, PageUp/Down for larger deltas, and Home/End to jump to min/max. Ensure an accessible name via aria-label or a surrounding FormControl label.",
    "Choose an appropriate width. The default width suits small integers. For larger ranges, negatives, or decimals, set width to avoid layout shift while typing.",
    "Form integration. Provide a name when used inside FormControl. The value will clamp to min/max and appear in the store on commit.",
    "Guard precision for decimals. When stepping in fractional increments (e.g., 0.1), use roundToStep to reduce floating‑point drift in committed values.",
    "Disable wheel interactions when undesirable. Set wheelBehavior='off' in scroll‑heavy views or when accidental stepping is likely."
  ],
  "examples": [
    {
      "id": "iterator-uncontrolled",
      "title": "Uncontrolled",
      "code": "<Iterator defaultValue={3} />",
      "lang": "tsx",
      "runnable": true,
      "minimalProps": {}
    },
    {
      "id": "iterator-controlled-commit",
      "title": "Controlled with onCommit",
      "code": "() => {\n  const [value, setValue] = React.useState(2);\n  const [committed, setCommitted] = React.useState(2);\n  return (\n    <Stack direction='row' gap={1}>\n      <Iterator value={value} onChange={setValue} onCommit={setCommitted} />\n      <Typography>Live: {value}</Typography>\n      <Typography>Committed: {committed}</Typography>\n    </Stack>\n  );\n}",
      "lang": "tsx",
      "runnable": true,
      "minimalProps": {}
    },
    {
      "id": "iterator-bounds-step-round",
      "title": "Bounds + step (rounded)",
      "code": "<Iterator min={0} max={10} step={2} roundToStep defaultValue={4} />",
      "lang": "tsx",
      "runnable": true,
      "minimalProps": {}
    },
    {
      "id": "iterator-wheel-modes",
      "title": "Wheel behavior options",
      "code": "<Stack gap={1}>\n  <Typography variant='subtitle'>Focus only (default)</Typography>\n  <Iterator defaultValue={1} />\n  <Typography variant='subtitle'>Hover stepping</Typography>\n  <Iterator defaultValue={2} wheelBehavior='hover' />\n  <Typography variant='subtitle'>Wheel disabled</Typography>\n  <Iterator defaultValue={3} wheelBehavior='off' />\n</Stack>",
      "lang": "tsx",
      "runnable": true,
      "minimalProps": {}
    },
    {
      "id": "iterator-readonly-disabled",
      "title": "Read‑only vs disabled",
      "code": "<Stack direction='row' gap={1}>\n  <Stack>\n    <Typography variant='subtitle'>readOnly</Typography>\n    <Iterator defaultValue={5} readOnly />\n  </Stack>\n  <Stack>\n    <Typography variant='subtitle'>disabled</Typography>\n    <Iterator defaultValue={5} disabled />\n  </Stack>\n</Stack>",
      "lang": "tsx",
      "runnable": true,
      "minimalProps": {}
    }
  ],
  "sourceFiles": [
    "src/components/fields/Iterator.tsx"
  ],
  "version": "0.32.0",
  "schemaVersion": "1.6"
}